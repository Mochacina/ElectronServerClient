<!-- index.html -->

<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>EServer - Brie's Network Test Server V1.1</title>
  <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <div class="sidebar">
      <button id="sidebar-fold-btn" title="Fold/Unfold Sidebar">◀</button>
      <div class="sidebar-header">
        <h2>Server Controls</h2>
      </div>
      <div class="server-controls">
        <div class="control-group">
          <label for="protocol-select">Protocol:</label>
          <select id="protocol-select">
            <option value="TCP">TCP</option>
            <option value="UDP">UDP</option>
            <option value="WebSocket" disabled>WebSocket (coming soon!)</option>
          </select>
        </div>
        <div class="control-group">
          <label for="port-input">Port:</label>
          <input type="number" id="port-input" value="8080">
        </div>
        <button id="start-server-btn">Start Server</button>
        <button id="stop-server-btn" disabled>Stop Server</button>
      </div>
    </div>
    <div class="main-content-wrapper">
        <div class="session-list-container">
            <h2>Active Sessions</h2>
            <table id="session-list-table">
              <thead>
                <tr>
                  <th>Session ID</th>
                  <th>Status</th>
                  <th>Connected Time</th>
                  <th>Tx/Rx Bytes</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <!-- Session rows will be inserted here -->
              </tbody>
            </table>
        </div>
        <div class="resizer" id="panel-resizer"></div>
        <div class="session-detail-container hidden">
            <div class="detail-header">
                <h2>Session Detail</h2>
                <button id="close-detail-btn" title="Close Detail View">✖</button>
            </div>
            <div class="detail-info">
                <strong>ID:</strong> <span id="detail-session-id"></span>
                <strong style="margin-left: 15px;">TX/RX:</strong> <span id="detail-session-stats">0 / 0</span>
                <button id="export-log-btn" class="small-btn">Export Log</button>
            </div>
            <div class="data-log-container">
                <pre id="data-log"></pre>
            </div>
            <div class="data-send-container">
                <textarea id="data-input" placeholder="Enter data to send..."></textarea>
                <div class="send-controls">
                <select id="encoding-select">
                    <option value="utf8">UTF-8</option>
                    <option value="hex">Hex</option>
                    <option value="base64">Base64</option>
                </select>
                <button id="send-data-btn">Send</button>
                </div>
            </div>
        </div>
    </div>
  </div>
  <div class="status-bar">
    <span id="server-status">Status: Idle</span>
    <span id="session-count">Sessions: 0</span>
  </div>

  <script src="renderer.js"></script>
</body>
</html>